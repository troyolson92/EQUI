@model EqUiWebUi.Areas.VASC.Models.c_controller_class

<div class="card">
    <div class="card-header bg-light">
        <h5 class="card-title text-black-50">
            c controllers in this class
            @if (ViewBag.controller_id != null)
            {
                <strong>Filtered on controllerID: @ViewBag.controller_id</strong>}
            <span class="clickable float-right"><i class="fas fa-chevron-circle-up fa-1"></i></span>
        </h5>
    </div>
    <div class="card-body">
        <div id="c_controllerGrid" class="mvc-grid"></div>
    </div>
</div>

<hr />

<div class="card">
    <div class="card-header bg-light">
        <h5 class="card-title text-black-50">
            c variable
        </h5>
        <div class="text-muted">
            (Rapid variables or IO signals handeld *logged to a table or used as event)
            @Html.ActionLink("c_variable index", "Index", "c_variable")
        </div>
        <span class="clickable float-right"><i class="fas fa-chevron-circle-up fa-1"></i></span>

    </div>
    <div class="card-body">
        <div id="c_variableGrid" class="mvc-grid"></div>
    </div>
</div>

<hr />

<div class="card">
    <div class="card-header bg-light">
        <h5 class="card-title text-black-50">
            c variable search
        </h5>
        <div class="text-muted">
            (Rapid variabels to be search for at startup and logged to a table)
            @Html.ActionLink("c_variable search_index", "Index", "c_variable_search")
        </div>
        <span class="clickable float-right"><i class="fas fa-chevron-circle-up fa-1"></i></span>

    </div>

    <div class="card-body">
        <div id="c_variable_searchGrid" class="mvc-grid"></div>
    </div>
</div>

<hr />

<div class="card">
    <div class="card-header bg-light">
        <h5 class="card-title text-black-50">
            c error
        </h5>
        <div class="text-muted">
            (alarms from controllereventlog can be setup to be ignored or redirected to junk table)
            @Html.ActionLink("c_error_index", "Index", "c_error")
        </div>
        <span class="clickable float-right"><i class="fas fa-chevron-circle-up fa-1"></i></span>

    </div>
    <div class="card-body">
        <div id="c_errorGrid" class="mvc-grid"></div>
    </div>
</div>

<hr />

<div class="card">
    <div class="card-header bg-light">
        <h5 class="card-title text-black-50">
            c CSV log
        </h5>
        <div class="text-muted">
            (csv file type file to be monitored and logged to a table)
            @Html.ActionLink("c_csv_log_index", "Index", "c_csv_log")
        </div>
        <span class="clickable float-right"><i class="fas fa-chevron-circle-up fa-1"></i></span>

    </div>

    <div class="card-body">
        <div id="c_csv_logGrid" class="mvc-grid"></div>
    </div>
</div>

<hr />

<div class="card">
    <div class="card-header bg-light">
        <h5 class="card-title text-black-50">
            c device info
        </h5>
        <div class="text-muted">
            (setup how device info is monitored)
            @Html.ActionLink("c_device_info_log_index", "Index", "c_device_info")
        </div>
        <span class="clickable float-right"><i class="fas fa-chevron-circle-up fa-1"></i></span>

    </div>

    <div class="card-body">
        <div id="c_device_infoGrid" class="mvc-grid"></div>
    </div>
</div>


<script>
    //load girds
    console.log("c_variableGrid");
    $("#c_variableGrid").html("<i class='fas fa-spinner fa-spin fa-2x'></i>");
    $('#c_variableGrid').mvcgrid({
                sourceUrl: '@Html.Raw(@Url.Action("_List","c_variable", new {enable_mask = Model.cVariableMask, controller_id = ViewBag.controller_id }))',
      requestType: 'get', // Ajax grid request type
      reloadFailed: function (result) {
         $("#c_variableGrid").html("Error while loading!!!");
                }
            });

    console.log("c_variable_searchGrid");
    $("#c_variable_searchGrid").html("<i class='fas fa-spinner fa-spin fa-2x'></i>");
    $('#c_variable_searchGrid').mvcgrid({
                sourceUrl: '@Html.Raw(@Url.Action("_List", "c_variable_search", new {enable_mask = Model.cVariableSearchMask, controller_id = ViewBag.controller_id }))',
      requestType: 'get', // Ajax grid request type
      reloadFailed: function (result) {
          $("#c_variable_searchGrid").html("Error while loading!!!");
                }
            });

    console.log("c_errorGrid");
    $("#c_errorGrid").html("<i class='fas fa-spinner fa-spin fa-2x'></i>");
    $('#c_errorGrid').mvcgrid({
                sourceUrl: '@Html.Raw(@Url.Action("_List", "c_error", new {enable_mask = Model.cErrorMask, controller_id = ViewBag.controller_id }))',
      requestType: 'get', // Ajax grid request type
      reloadFailed: function (result) {
          $("#c_errorGrid").html("Error while loading!!!");
                }
            });

    console.log("c_csv_logGrid");
    $("#c_csv_logGrid").html("<i class='fas fa-spinner fa-spin fa-2x'></i>");
    $('#c_csv_logGrid').mvcgrid({
                sourceUrl: '@Html.Raw(@Url.Action("_List", "c_csv_log", new {enable_mask = Model.cCSVLogMask, controller_id = ViewBag.controller_id }))',
        requestType: 'get', // Ajax grid request type
        reloadFailed: function (result) {
            $("#c_csv_logGrid").html("Error while loading!!!");
                }
            });

    console.log("c_device_infoGrid");
    $("#c_device_infoGrid").html("<i class='fas fa-spinner fa-spin fa-2x'></i>");
    $('#c_device_infoGrid').mvcgrid({
                sourceUrl: '@Html.Raw(@Url.Action("_List", "c_device_info", new {enable_mask = Model.cDeviceInfoMask, controller_id = ViewBag.controller_id }))',
        requestType: 'get', // Ajax grid request type
        reloadFailed: function (result) {
            $("#c_device_infoGrid").html("Error while loading!!!");
                }
            });

    console.log("c_controllerGrid");
    $("#c_controllerGrid").html("<i class='fas fa-spinner fa-spin fa-2x'></i>");
    $('#c_controllerGrid').mvcgrid({
                sourceUrl: '@Html.Raw(@Url.Action("_List", "c_controller", new { controllerclass = Model.id, controller_id = ViewBag.controller_id }))',
        requestType: 'get', // Ajax grid request type
        reloadFailed: function (result) {
            $("#c_controllerGrid").html("Error while loading!!!");
                }
            });


</script>
